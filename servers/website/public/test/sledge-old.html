<html>
	<head>
  	<title>Sledge Tester</title>	
  	<style>
    	.ad {
      	margin: 50px auto;
        display: table;
    	}
  	</style>
  	
    <script type='text/javascript'>    	
			(function(window, id, data) {	
  			var API = window[id] = window.googletag = window.googletag || {}
        var base_url = (
          document.location.protocol + "//" + id.toLowerCase() + 
          "." + document.location.host.split(".").slice(-2).join(".") + "/"
        )
        
        API.cmd = API.cmd || [];
  			API.cmd.push(function() {
          data.init(API)
          
          data.slots.forEach(function(s) {
            API.defineSlot(s[0], s[1], s[2]).addService(API.pubads())
          })
        })
      	
      	function url_builder(url) {
          return base_url + btoa(url) + "?id=" + id
        }
        
        function script_builder() {
          var script = document.createElement('script')
          script.setAttribute('type', 'text/javascript')
          return script
        }
      	  
        function script_cleaner(document, text) {         
          var script = script_builder()
          var cleaned = text.replace(/<script(.*?)>([\s\S]*?)<\/script>/gi, function() {
            if(arguments[1].indexOf("src") > -1) 
              return arguments[0]
            
            script.innerText += arguments[2] + ';\n'
            return ''
          });
    
          return [cleaned, script]
        }
  
        function tag_inserted(e) { 
          var ele = !!e.currentTarget ? e.target : e
          var path = ele.src ? "src" : "href"
          var src = ele.src || ele.href
          var tagName = (ele.tagName || "").toLowerCase()
          
          if (!!src && src.indexOf(base_url) == -1 && src.indexOf("javascript:") == -1) {
            var node = (tagName == "script") ? script_builder() : ele
            node[path] = url_builder(src)
            node[path] += (tagName == "a") ? "&link=true" : ""
            ele.parentNode.replaceChild(node, ele)
          }
          
          if(tagName == "iframe" && ele.contentDocument != null) {             
            ele.contentDocument.script_cleaner = script_cleaner
            ele.contentDocument.addEventListener('DOMNodeInserted', tag_inserted)
            ele.write = ele.contentDocument.write = function(content) {
              var out = this.script_cleaner(this, content)
              this.body.innerHTML += out[0]
              this.getElementsByTagName('head')[0].appendChild(out[1])
            }
          }
          
          ele.childNodes.forEach(tag_inserted)
        }
        
        var append = Element.prototype.appendChild
        Element.prototype.appendChild = function(ele) {
          var src = ele.src
          
          if (!!src && src.indexOf(base_url) == -1 && src.indexOf("javascript:") == -1) {
            ele.src = url_builder(src)
          }
          
          append.apply(this, [ele])
        }
        
        var script = script_builder()
        script.src = url_builder("www.googletagservices.com/tag/js/gpt.js")
        document.addEventListener('DOMNodeInserted', tag_inserted)
        document.getElementsByTagName('head')[0].appendChild(script)
			})(window, "em1nqj7asz", {
  		  async: true,
  		  init: function(API) {
    		  API.pubads().enableSingleRequest()
    		  API.enableServices()
  		  },
  		  slots: [
    		  ['/72625737/sledge', [300, 250], 'em1nqj7asz-1468566910229-0']
  		  ]
			})
		</script>
	</head>
	<body>
  	<div class="ad">
      <div id='em1nqj7asz-1468566910229-0'>
        <script type='text/javascript'>
          em1nqj7asz.cmd.push(function() { 
            em1nqj7asz.display('em1nqj7asz-1468566910229-0'); 
          });
        </script>
      </div>
  	</div>
	</body>
</html>